<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Summer Snack Party! ‚òÄÔ∏è</title>
  <style>
    :root {
      --bg: #fff9c4;
      --sky: #2196f3;
      --pink: #f06292;
      --green: #4caf50;
      --orange: #ff9800;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: var(--bg);
      margin: 0;
      padding: 0;
      touch-action: pan-y; 
      overflow-y: auto;
      display: flex;
      justify-content: center;
      min-height: 100vh;
    }

    #game-container {
      width: 100%;
      max-width: 450px;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px 10px 40px 10px; 
    }

    h2 { color: #d32f2f; margin: 10px 0 15px 0; font-size: 24px; text-align: center; }

    #clue-board {
      width: 95%;
      background: white;
      border: 4px solid var(--orange);
      border-radius: 20px;
      padding: 12px;
      margin-bottom: 20px;
      box-shadow: 0 6px 0px #e65100;
    }

    .clue-item { font-size: 14px; margin-bottom: 5px; font-weight: bold; color: #5d4037; }

    .grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 20px;
    }

    .target-box {
      display: flex;
      flex-direction: column;
      align-items: center;
      background: white;
      padding: 10px;
      border-radius: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .char-tag {
      font-size: 13px;
      font-weight: 800;
      margin-bottom: 8px;
      padding: 4px 12px;
      border-radius: 12px;
      color: white;
      width: 80%;
      text-align: center;
    }

    .anu { background: var(--pink); }
    .bala { background: var(--sky); }
    .chitra { background: #9c27b0; }
    .deepak { background: var(--green); }

    .target {
      width: 95px;
      height: 95px;
      border: 3px dashed #ccc;
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: #fafafa;
    }

    .target.drag-over { background: #fff59d; border-color: var(--orange); }

    #tray {
      width: 95%;
      min-height: 90px;
      background: white;
      border: 4px solid var(--sky);
      border-radius: 25px;
      display: flex;
      justify-content: space-evenly;
      align-items: center;
      padding: 10px;
      box-shadow: 0 6px 0px #1565c0;
    }

    .snack {
      font-size: 40px;
      cursor: grab;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 100;
      touch-action: none; 
    }

    .snack-label {
      font-size: 10px;
      font-weight: bold;
      color: #333;
      margin-top: -5px;
      display: none; 
    }

    .target .snack-label { display: block; }

    #check-btn {
      margin-top: 25px;
      padding: 12px 50px;
      background: #4caf50;
      color: white;
      border: none;
      border-radius: 50px;
      font-size: 20px;
      font-weight: bold;
      box-shadow: 0 6px 0px #2e7d32;
      cursor: pointer;
    }

    #check-btn:active { transform: translateY(3px); box-shadow: 0 3px 0px #2e7d32; }

    #overlay {
      position: fixed;
      inset: 0;
      background: rgba(255,255,255,0.96);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 3000;
      text-align: center;
      padding: 20px;
    }

    .hidden { display: none !important; }

    .home-link {
      position: absolute; top: 10px; left: 10px;
      text-decoration: none; background: white; padding: 5px 15px; 
      border-radius: 20px; border: 2px solid #ff6b6b; 
      color: #ff6b6b; font-size: 0.8rem; font-weight: bold;
      z-index: 2001;
    }
  </style>
</head>
<body>

<a href="/" class="home-link">üè† Try More!</a>

<div id="game-container">
  <h2>Summer Snack Party! üçâüç¶</h2>

  <div id="clue-board">
    <div class="clue-item">ü¶Å Anu: Not mango or ice cream!</div>
    <div class="clue-item">ü¶Å Bala: Cold but not a fruit!</div>
    <div class="clue-item">ü¶Å Chitra: Treat is yellow!</div>
    <div class="clue-item">ü¶Å Deepak: Drinks something fresh!</div>
  </div>

  <div class="grid">
    <div class="target-box">
      <div class="char-tag anu">üë© Anu</div>
      <div class="target" data-ans="üçâ"></div>
    </div>
    <div class="target-box">
      <div class="char-tag bala">üë¶ Bala</div>
      <div class="target" data-ans="üç¶"></div>
    </div>
    <div class="target-box">
      <div class="char-tag chitra">üëß Chitra</div>
      <div class="target" data-ans="ü•≠"></div>
    </div>
    <div class="target-box">
      <div class="char-tag deepak">üë¶ Deepak</div>
      <div class="target" data-ans="üçπ"></div>
    </div>
  </div>

  <div id="tray">
    <div class="snack" draggable="true" id="s1">üçâ<span class="snack-label">Watermelon</span></div>
    <div class="snack" draggable="true" id="s2">üç¶<span class="snack-label">Ice Cream</span></div>
    <div class="snack" draggable="true" id="s3">üçπ<span class="snack-label">Lemonade</span></div>
    <div class="snack" draggable="true" id="s4">ü•≠<span class="snack-label">Mango</span></div>
  </div>

  <button id="check-btn" onclick="check()">CHECK! ‚úÖ</button>
</div>

<div id="overlay" class="hidden">
  <h1 id="msg"></h1>
  <button onclick="location.reload()" style="padding:15px 35px; border-radius:50px; background:var(--sky); color:white; border:none; font-weight:bold; cursor:pointer; box-shadow: 0 5px 0 #1565c0;">PLAY AGAIN üîÑ</button>
</div>

<script>
  let dragged = null;
  const targets = document.querySelectorAll('.target');
  const tray = document.getElementById('tray');

  function snapTo(element, parent) {
    element.style.position = "static";
    element.style.left = "auto";
    element.style.top = "auto";
    element.style.zIndex = "10";

    if (parent.classList.contains('target')) {
      const existing = parent.querySelector('.snack');
      if (existing) tray.appendChild(existing);
    }
    parent.appendChild(element);
  }

  document.querySelectorAll('.snack').forEach(snack => {
    snack.addEventListener('touchstart', (e) => {
      dragged = snack;
      snack.style.position = "fixed";
      snack.style.zIndex = "2000";
    }, {passive: false});

    snack.addEventListener('touchmove', (e) => {
      if (!dragged) return;
      e.preventDefault(); 
      const touch = e.touches[0];
      dragged.style.left = (touch.clientX - 30) + 'px';
      dragged.style.top = (touch.clientY - 30) + 'px';

      targets.forEach(t => {
        const rect = t.getBoundingClientRect();
        if (touch.clientX > rect.left && touch.clientX < rect.right &&
            touch.clientY > rect.top && touch.clientY < rect.bottom) {
          t.classList.add('drag-over');
        } else {
          t.classList.remove('drag-over');
        }
      });
    }, {passive: false});

    snack.addEventListener('touchend', (e) => {
      if (!dragged) return;
      const touch = e.changedTouches[0];
      let dropped = false;

      targets.forEach(t => {
        t.classList.remove('drag-over');
        const rect = t.getBoundingClientRect();
        if (touch.clientX > rect.left && touch.clientX < rect.right &&
            touch.clientY > rect.top && touch.clientY < rect.bottom) {
          snapTo(dragged, t);
          dropped = true;
        }
      });

      if (!dropped) snapTo(dragged, tray);
      dragged = null;
    });
  });

  document.addEventListener('dragstart', (e) => { if(e.target.classList.contains('snack')) dragged = e.target; });
  targets.forEach(t => {
    t.addEventListener('dragover', e => e.preventDefault());
    t.addEventListener('drop', () => snapTo(dragged, t));
  });
  tray.addEventListener('dragover', e => e.preventDefault());
  tray.addEventListener('drop', () => snapTo(dragged, tray));

  function check() {
    let score = 0;
    let filled = 0;
    targets.forEach(t => {
      if (t.innerText.trim() !== "") {
        filled++;
        if (t.innerText.includes(t.getAttribute('data-ans'))) score++;
      }
    });

    if (filled < 4) {
      alert("Give everyone a snack first! üòã");
      return;
    }

    const overlay = document.getElementById('overlay');
    const msg = document.getElementById('msg');
    overlay.classList.remove('hidden');
    if(score === 4) {
      msg.innerHTML = "ü•≥ PERFECT!<br>Everyone has a snack!";
      msg.style.color = "#4caf50";
    } else {
      msg.innerHTML = "üßê HMM...<br>Try checking the clues!";
      msg.style.color = "#f06292";
    }
  }
</script>

</body>
</html>