<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>Summer Snack Party! ‚òÄÔ∏è</title>
  <style>
    :root {
      --bg: #fff9c4;
      --sky: #2196f3;
      --pink: #f06292;
      --green: #4caf50;
      --orange: #ff9800;
    }

    html, body {
      overflow: hidden;
      overscroll-behavior: none;
      height: 100%;
      margin: 0;
      touch-action: none; 
      font-family: 'Segoe UI', sans-serif;
    }

    body {
      background-color: var(--bg);
      display: flex;
      flex-direction: column;
      align-items: center;
      /* Adjusted padding-top to move everything down */
      padding: 60px 10px 20px 10px; 
      /* Ensures it looks good on iPhones with notches */
      padding-top: calc(env(safe-area-inset-top) + 60px); 
    }

    h2 { 
      color: #d32f2f; 
      margin: 0 0 20px 0; 
      font-size: 26px; 
      text-shadow: 1px 1px 0px white;
    }

    #clue-board {
      width: 90%; max-width: 400px;
      background: white; border: 3px solid var(--orange);
      border-radius: 15px; padding: 12px; margin-bottom: 20px;
      box-shadow: 0 4px 0 #e65100;
    }

    .clue-item { font-size: 14px; font-weight: bold; color: #5d4037; margin-bottom: 4px; }

    .grid {
      display: grid; grid-template-columns: repeat(2, 1fr);
      gap: 15px; margin-bottom: 25px;
    }

    .target-box {
      background: white; padding: 12px; border-radius: 20px;
      display: flex; flex-direction: column; align-items: center;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .char-tag {
      font-size: 14px; font-weight: 800; color: white;
      padding: 4px 15px; border-radius: 12px; margin-bottom: 10px;
      width: 80%; text-align: center;
    }

    .anu { background: var(--pink); }
    .bala { background: var(--sky); }
    .chitra { background: #9c27b0; }
    .deepak { background: var(--green); }

    .target {
      width: 90px; height: 90px;
      border: 3px dashed #ccc; border-radius: 15px;
      display: flex; justify-content: center; align-items: center;
      background: #fafafa;
    }

    .target.drag-over { background: #fff59d; border-color: var(--orange); }

    #tray {
      width: 90%; max-width: 400px; min-height: 90px;
      background: white; border: 4px solid var(--sky);
      border-radius: 25px; display: flex;
      justify-content: space-evenly; align-items: center;
      padding: 10px; box-shadow: 0 6px 0 #1565c0;
    }

    .snack {
      display: flex; flex-direction: column; align-items: center;
      cursor: grab; user-select: none; width: 70px;
    }

    .snack-emoji { font-size: 38px; line-height: 1; }

    .snack-label {
      font-size: 10px; font-weight: bold; color: #333;
      margin-top: 2px; text-align: center;
    }

    .dragging {
      position: fixed !important;
      pointer-events: none;
      z-index: 1000;
      transform: scale(1.2);
    }

    #check-btn {
      margin-top: 30px; padding: 15px 60px;
      background: #4caf50; color: white;
      border: none; border-radius: 50px;
      font-size: 22px; font-weight: bold;
      box-shadow: 0 6px 0 #2e7d32; cursor: pointer;
    }

    #overlay {
      position: fixed; inset: 0; background: rgba(255,255,255,0.96);
      display: flex; flex-direction: column; align-items: center;
      justify-content: center; z-index: 2000;
    }
    .hidden { display: none !important; }
  </style>
</head>
<body>

  <h2>Summer Snack Party! üçâ</h2>

  <div id="clue-board">
    <div class="clue-item">ü¶Å Anu: Not mango or ice cream</div>
    <div class="clue-item">ü¶Å Bala: Cold but not fruit</div>
    <div class="clue-item">ü¶Å Chitra: The snack is yellow</div>
    <div class="clue-item">ü¶Å Deepak: Fresh Lemon Juice</div>
  </div>

  <div class="grid">
    <div class="target-box">
      <div class="char-tag anu">üë© Anu</div>
      <div class="target" data-ans="üçâ"></div>
    </div>
    <div class="target-box">
      <div class="char-tag bala">üë¶ Bala</div>
      <div class="target" data-ans="üç¶"></div>
    </div>
    <div class="target-box">
      <div class="char-tag chitra">üëß Chitra</div>
      <div class="target" data-ans="ü•≠"></div>
    </div>
    <div class="target-box">
      <div class="char-tag deepak">üë¶ Deepak</div>
      <div class="target" data-ans="üçπ"></div>
    </div>
  </div>

  <div id="tray">
    <div class="snack" data-val="üçâ">
      <span class="snack-emoji">üçâ</span>
      <span class="snack-label">Watermelon</span>
    </div>
    <div class="snack" data-val="üç¶">
      <span class="snack-emoji">üç¶</span>
      <span class="snack-label">Ice Cream</span>
    </div>
    <div class="snack" data-val="üçπ">
      <span class="snack-emoji">üçπ</span>
      <span class="snack-label">Lemon Juice</span>
    </div>
    <div class="snack" data-val="ü•≠">
      <span class="snack-emoji">ü•≠</span>
      <span class="snack-label">Mango</span>
    </div>
  </div>

  <button id="check-btn" onclick="check()">CHECK! ‚úÖ</button>

  <div id="overlay" class="hidden">
    <h1 id="msg"></h1>
    <button onclick="location.reload()" style="padding:15px 40px; background:var(--sky); color:white; border:none; border-radius:30px; font-weight:bold; cursor:pointer;">PLAY AGAIN üîÑ</button>
  </div>

  <script>
    let activeItem = null;

    function onStart(e) {
      activeItem = e.target.closest('.snack');
      if (!activeItem) return;

      const clientX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
      const clientY = e.type.includes('touch') ? e.touches[0].clientY : e.clientY;

      activeItem.classList.add('dragging');
      moveAt(clientX, clientY);
    }

    function onMove(e) {
      if (!activeItem) return;
      if (e.cancelable) e.preventDefault();

      const clientX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
      const clientY = e.type.includes('touch') ? e.touches[0].clientY : e.clientY;

      moveAt(clientX, clientY);

      const hit = document.elementFromPoint(clientX, clientY)?.closest('.target');
      document.querySelectorAll('.target').forEach(t => t.classList.remove('drag-over'));
      if (hit) hit.classList.add('drag-over');
    }

    function onEnd(e) {
      if (!activeItem) return;

      const clientX = e.type.includes('mouse') ? e.clientX : e.changedTouches[0].clientX;
      const clientY = e.type.includes('mouse') ? e.clientY : e.changedTouches[0].clientY;

      activeItem.classList.remove('dragging');
      activeItem.style.display = 'none'; 
      
      const dropZone = document.elementFromPoint(clientX, clientY)?.closest('.target, #tray');
      activeItem.style.display = 'flex';
      activeItem.style.position = 'static';

      if (dropZone && dropZone.id !== 'tray') {
        const old = dropZone.querySelector('.snack');
        if (old) document.getElementById('tray').appendChild(old);
        dropZone.appendChild(activeItem);
      } else {
        document.getElementById('tray').appendChild(activeItem);
      }

      document.querySelectorAll('.target').forEach(t => t.classList.remove('drag-over'));
      activeItem = null;
    }

    function moveAt(x, y) {
      activeItem.style.left = (x - (activeItem.offsetWidth / 2)) + 'px';
      activeItem.style.top = (y - (activeItem.offsetHeight / 2)) + 'px';
    }

    document.querySelectorAll('.snack').forEach(s => {
      s.addEventListener('mousedown', onStart);
      s.addEventListener('touchstart', onStart, {passive: false});
    });

    document.addEventListener('mousemove', onMove);
    document.addEventListener('touchmove', onMove, {passive: false});
    document.addEventListener('mouseup', onEnd);
    document.addEventListener('touchend', onEnd);

    function check() {
      let score = 0;
      document.querySelectorAll('.target').forEach(t => {
        const snack = t.querySelector('.snack');
        if (snack && snack.dataset.val === t.dataset.ans) score++;
      });
      
      document.getElementById('overlay').classList.remove('hidden');
      const msg = document.getElementById('msg');
      if (score === 4) {
        msg.innerHTML = "ü•≥ YAY!<br>Everyone is happy!";
        msg.style.color = "#4caf50";
      } else {
        msg.innerHTML = "üßê Hmm...<br>Check the clues!";
        msg.style.color = "#f06292";
      }
    }
  </script>
</body>
</html>